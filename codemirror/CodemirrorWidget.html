<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
  <title>MarkdownEditor</title>

  <link href="codemirror-5.65.11/lib/codemirror.css" rel=stylesheet>
  <script src="codemirror-5.65.11/lib/codemirror.js"></script>

  <!-- 引入支持的语法 -->
  <script src="codemirror-5.65.11/mode/xml/xml.js"></script>
  <script src="codemirror-5.65.11/mode/javascript/javascript.js"></script>
  <script src="codemirror-5.65.11/mode/css/css.js"></script>
  <script src="codemirror-5.65.11/mode/htmlmixed/htmlmixed.js"></script>
  <script src="codemirror-5.65.11/mode/python/python.js"></script>
  <script src="codemirror-5.65.11/mode/markdown/markdown.js"></script>

  <!--<link href="codemirror-5.65.11/theme/dracula.css" rel="stylesheet"/>-->

  <script src="codemirror-5.65.11/addon/edit/matchbrackets.js"></script>

  <!--全屏-->
  <link rel="stylesheet" href="codemirror-5.65.11/addon/display/fullscreen.css">
  <script src="codemirror-5.65.11/addon/display/fullscreen.js"></script>

  <!--自动补全-->
  <link rel="stylesheet" href="codemirror-5.65.11/addon/hint/show-hint.css">
  <script src="codemirror-5.65.11/addon/hint/show-hint.js"></script>
  <script src="codemirror-5.65.11/addon/hint/anyword-hint.js"></script>

  <!--支持代码折叠-->
  <link rel="stylesheet" href="codemirror-5.65.11/addon/fold/foldgutter.css"/>
  <script src="codemirror-5.65.11/addon/fold/foldcode.js"></script>
  <script src="codemirror-5.65.11/addon/fold/foldgutter.js"></script>
  <script src="codemirror-5.65.11/addon/fold/brace-fold.js"></script>
  <script src="codemirror-5.65.11/addon/fold/comment-fold.js"></script>

  <!-- 为Qt提供支持 -->
  <script src='qrc:///qtwebchannel/qwebchannel.js'></script>

  <link rel="stylesheet" href="editor/css/theme.css">
</head>
<body scroll="no">

<div id="editor">

</div>

<script src="editor/js/jquery-3.6.1.min.js"></script>

<script>
  // const splitter_w = 20
  const editorElm = document.getElementById('editor');
  // const splitter = document.getElementById("splitter");
  // const preview = document.getElementById("preview");
  // const preview_inner = document.getElementById("preview_inner")
  const value = "# 标题\n" +
          "```python\n" +
          "class People(Object):\n" +
          "    def __init__(self):\n" +
          "   \t\tself.name = \"LuTong\"\n" +
          "    \tself.age = 18\n" +
          "```\n" +
          "```mermaid\n" +
          "graph TD;\n" +
          "A-->B;\n" +
          "A-->C;\n" +
          "B-->D;\n" +
          "C-->D;\n" +
          "```"
  const editor = CodeMirror(editorElm, {
    mode: {name: 'markdown', highlightFormatting: true, allowAtxHeaderWithoutSpace: true},  //编辑器语言
    theme: 'dracula', //编辑器主题
    extraKeys: {"Ctrl": "autocomplete"},//ctrl可以弹出选择项
    lineNumbers: true,  //显示行号
    // lineWrapping: true, // 换行
    // lineWrapping: true,	//代码折叠
    foldGutter: true,  // 折叠
    indentUnit: 4,  // 自动缩进个数
    gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter","CodeMirror-lint-markers"],  //沟槽
    matchBrackets: true,	//括号匹配
    tabindex:4,
    addModeClass: true,
    //readOnly: true,        //只读
  });
</script>
<script src="./editor/codemirroeWidget.js"></script>
</body>
</html>
